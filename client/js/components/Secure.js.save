// client/js/components/Secure.js

import 'stylesheets/base.sass'
import React, {Component} from 'react'
import PropTypes from 'prop-types'
import {FormGroup, ControlLabel, FormControl, ListGroup, ListGroupItem, Clearfix, Grid, Row, Col, Panel, Button } from 'react-bootstrap'

const title = (<h1> Patient Record </h1>);

function alertClicked(){
  alert("Clicked!")
}

function SecureComp() {      
  constructor(props){
     super(props);
     this.onTextChange = this.onTextChange.bind(this);
  }

  onTextChange(event){
    this.props.onRecordChange(event);
  }

  return ( 
    <Grid>
      <Row className="show-grid">
      <Col xs={18} xsOffset={0}>
      <p></p>
      <Panel header={title} bsStyle="primary"> 
          <p></p>
          <FormGroup controlId="formControlsTextarea">
            <ControlLabel>Record 1</ControlLabel>
            <FormControl componentClass="textarea" placeholder="textarea" onChange={this.onTextChange} />
          </FormGroup>
          
          <FormGroup controlId="formControlsTextarea">
            <ControlLabel>Record 2</ControlLabel>
            <FormControl componentClass="textarea" placeholder="textarea" />
          </FormGroup>
          
          <FormGroup controlId="formControlsTextarea">
            <ControlLabel>Record 3</ControlLabel>
            <FormControl componentClass="textarea" placeholder="textarea" />
          </FormGroup>
          
          <ListGroup fill>
          <ListGroupItem onClick={alertClicked}><h5>Record A</h5> Record A value a reaaaaaalllllllllly long list of words</ListGroupItem>
          <ListGroupItem>&hellip;</ListGroupItem>
          </ListGroup>
    </Panel>
    </Col>
      
    <Clearfix visibleSmBlock><code>&lt;{'Clearfix visibleSmBlock'} /&gt;</code></Clearfix>  
    <p><Button bsStyle="primary">Submit</Button></p>
    </Row>
    </Grid>      
  );
}


class Secure extends Component{
  constructor(props){
    super(props);
    this.updateRecords = this.updateRecords.bind(this)
  }

  updateRecords(event){
      const target = event.target;
      const name = target.name;
      const value = target.type=='checkbox'? target.checked:target.value;

      this.setState({
        [name]:value
      });
  }

  componentDidMount(){
  }

  componentWillUnmount(){
  }
  
  render(){
    return (
      <div>
        <div className="secure-body">
          <SecureComp onRecordChange = {this.updateRecords}/>
        </div>
      </div>
    )
  }
};

Secure.defaultProps={
    subjectid: "1500",
    records: "empty"
};

Secure.propTypes ={
    subjectid: PropTypes.string,
    records: PropTypes.string
};

export default Secure

